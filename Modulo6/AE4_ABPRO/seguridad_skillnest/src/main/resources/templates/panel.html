<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>Panel General</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container-fluid">
			<a class="navbar-brand" href="/panel">SkillNest</a>
			<div class="collapse navbar-collapse">
				<ul class="navbar-nav me-auto">
					<li class="nav-item"><a class="nav-link active" href="/panel">Panel</a></li>
					<li class="nav-item" sec:authorize="hasRole('ADMIN')"><a class="nav-link" href="/admin/detalle">Admin</a></li>
					<li class="nav-item"><a class="nav-link" href="/perfil/detalle">Perfil</a></li>
				</ul>
				<span class="navbar-text text-white me-3">
					Usuario: <strong sec:authentication="name">Usuario</strong>
				</span>
				<form th:action="@{/logout}" method="post" class="d-inline">
					<button type="submit" class="btn btn-outline-light btn-sm">Cerrar Sesión</button>
				</form>
			</div>
		</div>
	</nav>
	
	<div class="container mt-4">
		<h2>Panel General de Usuario</h2>
		<p class="text-muted">Bienvenido al panel general. Esta página está disponible para todos los usuarios autenticados.</p>
		
		<div class="alert alert-info mt-3">
			<strong>Sesión actual:</strong> <span sec:authentication="name">Usuario</span> | 
			<strong>Rol:</strong> <span sec:authentication="principal.authorities">ROLE</span>
		</div>
		
		<div class="row mt-4">
			<div class="col-md-6">
				<div class="card">
					<div class="card-header bg-primary text-white">Accesos Rápidos</div>
					<div class="list-group list-group-flush">
						<a href="/perfil/detalle" class="list-group-item list-group-item-action">Mi Perfil</a>
						<a href="/panel" class="list-group-item list-group-item-action">Panel General</a>
						<a href="/admin/detalle" class="list-group-item list-group-item-action" sec:authorize="hasRole('ADMIN')">Panel de Administración</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
